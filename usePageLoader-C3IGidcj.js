import{p as $,I as h,q as S,t as v,y as f}from"./index-DIyitpiX.js";const x=[{start:1893,end:2147,dir:"actOne"},{start:2148,end:2658,dir:"actTwo"},{start:2659,end:3053,dir:"actThree"},{start:3054,end:3257,dir:"intOne"},{start:3258,end:3888,dir:"actFour"},{start:3889,end:4525,dir:"actFiveA1"},{start:4526,end:6010,dir:"actFiveA2"},{start:6011,end:6191,dir:"actSixA1"},{start:6192,end:6319,dir:"actSixI1"},{start:6320,end:6566,dir:"actSixA2"},{start:6567,end:6719,dir:"actSixI2"},{start:6720,end:7162,dir:"actSixA3"},{start:7163,end:7337,dir:"actSixI3"},{start:7338,end:7340,dir:"actSixA4"},{start:7341,end:7411,dir:"actSixI4"},{start:7412,end:7826,dir:"actSixA5"},{start:7827,end:8142,dir:"actSixI5"},{start:8143,end:10030,dir:"actSixA6"}];function P(l,p,u,c){const I=$(),s=h(),i=S(null);return v(()=>I.params.pageid,async t=>{const d=parseInt(t),r=x.find(e=>d>=e.start&&d<=e.end);if(r===void 0){s.replace("/404");return}const n=l[`../../components/pages/hspages/${r.dir}/${t}${u}.vue`];if(n)try{c&&await c(t);let e=0,a=!1;for(;e<2&&!a;)try{const o=await n();i.value=f(o.default),scrollTo(0,0),a=!0,p.value&&localStorage.setItem("homestuck-current-page",t)}catch(o){e++,e>=2&&(console.error(`Failed to load page ${t} after 2 attempts`,o),s.replace("/404"))}}catch(e){console.error(`Error in page loader: ${e}`),s.replace("/404")}else s.replace("/404")},{immediate:!0}),{currentPage:i}}function M(l,p,u,c,g){const s=$(),i=h(),t=S(null),d=S(null);return v(()=>s.params.pageid,async r=>{let n,e;const a=parseInt(r);a%2===0?(n=a,e=a+1):(n=a-1,e=a);const o=l[`../../components/pages/hspages/${c}/00${n}${u}.vue`],E=l[`../../components/pages/hspages/${c}/00${e}${u}.vue`];if(o&&E){let R=0,A=!1;for(;R<2&&!A;)try{const m=await o(),T=await E();t.value=f(m.default),d.value=f(T.default),scrollTo(0,0),A=!0,g&&await g(r),p.value&&localStorage.setItem("homestuck-current-page",r)}catch(m){R++,R>=2&&(console.error(`Failed to load page ${r} after 2 attempts`,m),i.replace("/404"))}}else i.replace("/404")},{immediate:!0}),{leftPage:t,rightPage:d}}export{M as a,P as u};
